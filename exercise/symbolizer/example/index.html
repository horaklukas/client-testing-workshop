<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title></title>
  <link rel="stylesheet" type="text/css" href="./examples.css">
  <link rel="stylesheet" type="text/css" href="../dist/symbolizer-component.css">
  <script type="text/javascript" src="http://localhost:35730/livereload.js"></script>
  <script src="../node_modules/react/dist/react.js"></script>
  <script src="../node_modules/jquery/dist/jquery.js"></script>
  <!-- This script is created by gulp task `browserify` and is unminified -->
  <script src="../dist/symbolizer-component.js"></script>
  <!--
  This one is created by autotools and is minified
  <script src="../dist/symbolizer.js"></script>
  -->
</head>
<body>
<div id="tabs-container"></div>
<div id="descr"><h1>Select one of examples above and click</h1></div>
<div id="symbol-insert"></div>

<script type="text/javascript">
  var examples, placeholder, tabsContainer, symbolizer, descr;

  examples = [
    {
      title: 'Basic example',
      descr: 'Basic example without any data provided into component and with self-loaded tree data',
      props: {}
    },{
      title: 'Changed selectors',
      descr: 'Example with changed default value of selectors (affiliation, status) ',
      props: { milstdString: 'SFGA' }
    },{
      title: 'Opened category',
      descr: 'Example of open different category than root on symbolizer mount (Favorite in example)',
      props: { category: 'Favorite' }
    },{
      title: 'Selected symbol',
      descr: 'Example of symbol selected when display symbolizer (Ground vehicle symbol in example)',
      props: { milstdString: 'SFGPEV----', symbolName: 'Ground vehicle' }
    },{
      title: 'Update symbol',
      descr: 'Example of update symbol for existing object. When object id and update callback supplied to symbolizer, button for update is displayed.',
      props: { milstdString: 'SHGPUCDSS-', symbolName: 'RBS', objectId: 13, onUpdate: function(id, symbol) {
          alert('Object with id ' + id + ' changed to ' + symbol.name +
            ' with ' + symbol.milstdString);
        }
      }
    },{
      title: 'One level tree',
      descr: 'Example of non deep tree data. Data has only one main level so no level navigation should been displayed.',
      props: { treeData: {
          0: [
            {id:'1313',title:'MBV',value:{symbolId:'UH----',dimension:'G',scheme:'S'}},
            {id:'1317',title:'S10',value:{symbolId:'UCDM--',dimension:'G',scheme:'S'}},
            {id:'1320',title:'RBS',value:{symbolId:'UCDSS-',dimension:'G',scheme:'S'}},
            {id:'1321',title:'RVR',value:{symbolId:'UUMRG-',dimension:'G',scheme:'S'}},
          ]
        }
      }
    },{
      title: 'Selected only mode',
      descr: 'Example of mode where you can\'t selectors are not displayed, so only symbols can be selected (no affiliation, etc.)',
      props: { selectOnly: true, milstdString: 'SF-P', category: 'Favorite'}
    }
  ]

  placeholder = document.getElementById('symbol-insert');
  tabsContainer = document.getElementById('tabs-container');
  descr = document.getElementById('descr');

  for(var idx = 0; idx < examples.length; idx++) {
    var example = examples[idx];
    tabsContainer.innerHTML += '<div class="tab" data-id="' + idx + '">' +
      example.title + '</div>';
  }

  tabsContainer.onclick = function(e) {
    var example, id, activeTab;

    id = e.target.dataset.id;

    if(!id) return; // not clicked tab

    example = examples[id];

    activeTab = document.getElementById('active');

    if(activeTab) {
      activeTab.removeAttribute('id');
    }
    e.target.setAttribute('id', 'active');

    descr.innerHTML = '<h1>' + example.title + '</h1>' +
      '<p>' + example.descr + '</p>';

    React.unmountComponentAtNode(placeholder);
    symbolizer = React.renderComponent(
      React.createElement(Symbolizer, example.props), placeholder
    );
  }

  /*
  $.ajax({
    url: '../src/php/get-tree-data.php',
    dataType: "json",
    success: function(data, status) {
      props.treeData = data;
      symbolizer = React.renderComponent(
        React.createElement(Symbolizer, props),
        placeholder
      );
    },
    error: function(xhr, err, text) {
      console.error('Error when getting tree data');
    }
  })
  */
</script>
</body>
</html>